<h1>当たりを探せ！</h1>
<div class="buttons">
    <button>押す</button>
    <button>押す</button>
    <button>押す</button>
    <button>押す</button>
    <button>押す</button>
    <button>押す</button>
    <button>押す</button>
    <button>押す</button>
    <button>押す</button>
</div>

<script>
    //ボタンを押して当たったら背景がピンク色、はずれたらグレー色になるようにしてください


    // 1. button要素を全て取得して、変数buttonsに代入する
    const buttons = document.querySelectorAll('button');
    console.log(buttons);
    // NodeListっていうのは配列に近いもの
    // 2. buttonsの要素数分、ランダムな数（0〜8）を生成する
    const randomNum = Math.floor(Math.random() * 9);
    console.log(randomNum);
    // 3. for文で、buttonsの要素数分、クリックイベントを設定する

    // インデックスが使えるので0番＝1番目の要素が取得できる
    console.log(buttons[0]);

    for (let i = 0; i < buttons.length; i++) {
        buttons[i].addEventListener('click', function () {
            console.log('クリックしたぞ！' + 1);
            const bodyElm = document.querySelector('body');
            if (randomNum === i) {
                // 4. もし、ランダムな数値と、クリックした要素のインデックスが一致したら、ピンク色にする（winnerクラスを追加して、loserクラスを削除する）
                bodyElm.classList.remove('loser'); bodyElm.classList.add('winner');
                // 5. もし、ランダムな数数値と、クリックした要素のインデックスが一致しなかったら、グレー色にする（loserクラスを追加して、winnerクラスを削除する）
            } else {
                bodyElm.classList.add('loser');
            }
        })
    }

</script>

<style>
    h1 {
        text-align: center;
    }

    .buttons {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        width: 500px;
        margin-inline: auto;
    }

    button {
        padding: 10px;
        font-size: 16px;
    }

    body.winner {
        background-color: pink;
    }

    body.loser {
        background-color: #ccc;
    }
</style>